# # vpa.yaml
# apiVersion: autoscaling.k8s.io/v1
# kind: VerticalPodAutoscaler
# metadata:
#   name: app-vpa
#   namespace: ecommerce-app
# spec:
#   serviceAccountName: app-service-account
#   targetRef: 
#     apiVersion: "apps/v1"
#     kind: Deployment
#     name: app-deployment
#   updatePolicy:
#     updateMode: "Off"  # Changed to recommendation-only mode
#   resourcePolicy:
#     containerPolicies:
#     - containerName: '*'
#       minAllowed:
#         cpu: 100m
#         memory: 128Mi
#       maxAllowed:
#         cpu: 1
#         memory: 1Gi
#       controlledResources: ["cpu", "memory"]


